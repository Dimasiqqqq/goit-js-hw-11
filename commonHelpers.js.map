{"version":3,"file":"commonHelpers.js","sources":["../src/img/x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__655c9695__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport icon from './img/x-octagon.svg';\n\nconst userInput = document.querySelector('.data-select');\nconst userList = document.querySelector('.gallery-list');\nconst activeLoader = document.querySelector('.loader');\n\nconst PIXABAY_API_KEY = '42133778-4b8d89235d578f5a93c0f41d5';\n\nuserInput.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const userInputValue = userInput.elements.request.value.trim();\n  userList.innerHTML = '';\n  activeLoader.classList.toggle('loader-active');\n\n  try {\n    const searchParams = new URLSearchParams({\n      key: PIXABAY_API_KEY,\n      q: userInputValue,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n\n    const data = await fetchGallery(searchParams);\n\n    if (data.totalHits > 0) {\n      renderGallery(data);\n    } else {\n      showErrorToast('Sorry, there are no images matching your search query. Please try again!');\n    }\n  } catch (error) {\n    handleFetchError(error);\n  } finally {\n    activeLoader.classList.toggle('loader-active');\n    userInput.reset();\n  }\n});\n\nasync function fetchGallery(searchParams) {\n  const response = await fetch(`https://pixabay.com/api/?${searchParams.toString()}`);\n\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n\n  return response.json();\n}\n\nfunction renderGallery(data) {\n  const markup = data.hits\n    .map((hit) => {\n      return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${hit.webformatURL}\"\n              alt=\"${hit.tags}\"\n              width=\"360\"\n              height=\"200\"\n            />\n            <ul class=\"info-list\">\n              <li class=\"info-item\">\n                <h class=\"item-title\">Likes</h>\n                <p class=\"item-content\">${hit.likes}</p>\n              </li>\n              <li class=\"info-item\">\n                <h class=\"item-title\">Views</h>\n                <p class=\"item-content\">${hit.views}</p>\n              </li>\n              <li class=\"info-item\">\n                <h class=\"item-title\">Comments</h>\n                <p class=\"item-content\">${hit.comments}</p>\n              </li>\n              <li class=\"info-item\">\n                <h class=\"item-title\">Downloads</h>\n                <p class=\"item-content\">${hit.downloads}</p>\n              </li>\n            </ul>\n          </a>\n        </li>`;\n    })\n    .join('');\n\n  userList.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery-list a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nfunction showErrorToast(message) {\n  iziToast.error({\n    message,\n    messageColor: '#FAFAFB',\n    messageSize: '16',\n    messageLineHeight: '20',\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    iconUrl: icon,\n    icon: 'fa-regular',\n    iconColor: '#FAFAFB',\n    maxWidth: '500',\n    transitionIn: 'bounceInLeft',\n  });\n}\n\nfunction handleFetchError(error) {\n  if (error.message.includes('404')) {\n    showErrorToast('Oops! The requested resource was not found.');\n  } else if (error.message.includes('500')) {\n    showErrorToast('Oops! Something went wrong on the server. Please try again later.');\n  } else {\n    showErrorToast('Oops! An unexpected error occurred. Please try again.');\n  }\n}"],"names":["icon","userInput","userList","activeLoader","PIXABAY_API_KEY","e","userInputValue","searchParams","data","fetchGallery","renderGallery","showErrorToast","error","handleFetchError","response","markup","hit","SimpleLightbox","message","iziToast"],"mappings":"6vBAAA,MAAeA,EAAA,+CCQTC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAe,SAAS,cAAc,SAAS,EAE/CC,EAAkB,qCAExBH,EAAU,iBAAiB,SAAU,MAAOI,GAAM,CAChDA,EAAE,eAAc,EAChB,MAAMC,EAAiBL,EAAU,SAAS,QAAQ,MAAM,OACxDC,EAAS,UAAY,GACrBC,EAAa,UAAU,OAAO,eAAe,EAE7C,GAAI,CACF,MAAMI,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EAEKE,EAAO,MAAMC,EAAaF,CAAY,EAExCC,EAAK,UAAY,EACnBE,EAAcF,CAAI,EAElBG,EAAe,0EAA0E,CAE5F,OAAQC,EAAP,CACAC,EAAiBD,CAAK,CAC1B,QAAY,CACRT,EAAa,UAAU,OAAO,eAAe,EAC7CF,EAAU,MAAK,CAChB,CACH,CAAC,EAED,eAAeQ,EAAaF,EAAc,CACxC,MAAMO,EAAW,MAAM,MAAM,4BAA4BP,EAAa,SAAQ,GAAI,EAElF,GAAI,CAACO,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MAClB,CAEA,SAASJ,EAAcF,EAAM,CAC3B,MAAMO,EAASP,EAAK,KACjB,IAAKQ,GACG;AAAA,0CAC6BA,EAAI;AAAA;AAAA;AAAA,qBAGzBA,EAAI;AAAA,qBACJA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAOiBA,EAAI;AAAA;AAAA;AAAA;AAAA,0CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,0CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,0CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,cAKzC,EACA,KAAK,EAAE,EAEVd,EAAS,mBAAmB,YAAaa,CAAM,EAE9B,IAAIE,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEA,SAASN,EAAeO,EAAS,CAC/BC,EAAS,MAAM,CACb,QAAAD,EACA,aAAc,UACd,YAAa,KACb,kBAAmB,KACnB,SAAU,WACV,gBAAiB,UACjB,QAASlB,EACT,KAAM,aACN,UAAW,UACX,SAAU,MACV,aAAc,cAClB,CAAG,CACH,CAEA,SAASa,EAAiBD,EAAO,CAC3BA,EAAM,QAAQ,SAAS,KAAK,EAC9BD,EAAe,6CAA6C,EACnDC,EAAM,QAAQ,SAAS,KAAK,EACrCD,EAAe,mEAAmE,EAElFA,EAAe,uDAAuD,CAE1E"}